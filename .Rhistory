f_tmp_data <- append(fn_1,fn_2)
for (i in 3:332) {
t_f <- read.csv(paste('./',directory,'/',sprintf("%03s", i),'.csv', sep=""))
f_tmp_data <- append(f_tmp_data,t_f)
}
## Subset of the given id
ss_d <- subset(f_tmp_data, f_tmp_data$ID=id)
ss_d
fn_1 <- read.csv(paste('./specdata/',sprintf("%03s", 1),'.csv', sep=""))
fn_2 <- read.csv(paste('./specdata/',sprintf("%03s", 2),'.csv', sep=""))
f_tmp_data <- append(fn_1,fn_2)
for (i in 3:332) {
t_f <- read.csv(paste('./specdata/',sprintf("%03s", i),'.csv', sep=""))
f_tmp_data <- append(f_tmp_data,t_f)
}
## Subset of the given id
ss_d <- subset(f_tmp_data, f_tmp_data$ID = 3 )
ss_d
fn_1 <- read.csv(paste('./specdata/',sprintf("%03s", 1),'.csv', sep=""))
fn_2 <- read.csv(paste('./specdata/',sprintf("%03s", 2),'.csv', sep=""))
f_tmp_data <- append(fn_1,fn_2)
for (i in 3:332) {
t_f <- read.csv(paste('./specdata/',sprintf("%03s", i),'.csv', sep=""))
f_tmp_data <- append(f_tmp_data,t_f)
}
## Subset of the given id
ss_d <- f_tmp_data[f_tmp_data$ID = 3 ]
ss_d
fn_1 <- read.csv(paste('./specdata/',sprintf("%03s", 1),'.csv', sep=""))
fn_2 <- read.csv(paste('./specdata/',sprintf("%03s", 2),'.csv', sep=""))
f_tmp_data <- append(fn_1,fn_2)
for (i in 3:332) {
t_f <- read.csv(paste('./specdata/',sprintf("%03s", i),'.csv', sep=""))
f_tmp_data <- append(f_tmp_data,t_f)
}
## Subset of the given id
names(f_tmp_data)
fn_1 <- read.csv(paste('./specdata/',sprintf("%03s", 1),'.csv', sep=""))
fn_2 <- read.csv(paste('./specdata/',sprintf("%03s", 2),'.csv', sep=""))
f_tmp_data <- append(fn_1,fn_2)
for (i in 3:332) {
t_f <- read.csv(paste('./specdata/',sprintf("%03s", i),'.csv', sep=""))
f_tmp_data <- append(f_tmp_data,t_f)
}
## Subset of the given id
sub.data <- data[f_tmp_data$ID %in% 3]
sub.data <- data[f_tmp_data$ID = 3]
sub.data <- data[f_tmp_data$ID %in% 3,]
sub.data <- subset(f_tmp_data, ID %in% 3)
sub.data <-subset.data.frame(f_tmp_data, ID %in% 3)
names(f_tmp_data)
y <- subset(f_tmp_data, "ID" = 3)
y <- subset.data.frame(f_tmp_data, "ID" = 3)
y <- subset.data.frame(f_tmp_data, ID = 3)
y <- subset(f_tmp_data, ID = 3)
f_tmp_data
subset(f_tmp_data, f_tmp_data$ID="3")
subset(f_tmp_data, f_tmp_data$ID=3)
subset(f_tmp_data, f_tmp_data$ID = 3)
subset(f_tmp_data, f_tmp_data$ID == 3)
subset(f_tmp_data, f_tmp_data$ID == "3")
f_tmp_data[,f_tmp_data$ID == "3"]
f_tmp_data[,f_tmp_data$ID == 3]
f_tmp_data[[3]]
f_tmp_data[[4]]
f_tmp_data[[5]]
f_tmp_data[[6]]
fn_1 <- read.csv(paste('./specdata/',sprintf("%03s", 1),'.csv', sep=""))
fn_2 <- read.csv(paste('./specdata/',sprintf("%03s", 2),'.csv', sep=""))
f_tmp_data <- merge(fn_1,fn_2)
for (i in 3:332) {
t_f <- read.csv(paste('./specdata/',sprintf("%03s", i),'.csv', sep=""))
f_tmp_data <- merge(f_tmp_data,t_f)
}
fn_1 <- read.csv(paste('./specdata/',sprintf("%03s", 1),'.csv', sep=""))
fn_2 <- read.csv(paste('./specdata/',sprintf("%03s", 2),'.csv', sep=""))
f_tmp_data <- rbind(fn_1,fn_2)
f_tmp_data
f_tmp_data[f_tmp_dataz$ID == 1]
f_tmp_data[f_tmp_data$ID == 1]
fn_1 <- read.csv(paste('./specdata/',sprintf("%03s", 1),'.csv', sep=""))
fn_2 <- read.csv(paste('./specdata/',sprintf("%03s", 2),'.csv', sep=""))
f_tmp_data <- rbind.data.frame(fn_1,fn_2,make.row.names = TRUE)
f_tmp_data[f_tmp_dataz$ID == 1]
names(f_t f_tmp_data)
names(f_tmp_data)
subset.data.frame(f_tmp_data,f_tmp_data$ID == 1)
subset.data.frame(f_tmp_data,f_tmp_data$ID %in% 1)
subset.data.frame(f_tmp_data$sulfate,f_tmp_data$ID %in% 1)
x <-subset.data.frame(f_tmp_data,f_tmp_data$ID %in% 1)
x$sulfate
t <- "sulpate"
x[t]
x["t"]
x[$t]
x$t
mean(x,t)
str(x)
subset(x, t)
subset(x, "sulphate")
subset(x, "sulpate")
x$sulfate
fs <- function(data, name) {data[name]}
fs(x,t)
fs(x,"sulpate")
x[deparse(substitute(t))]
x$deparse(substitute(t))
fs <- function(data, name) {data[deparse(substitute(name))]}
fs(x,t)
fs(x,sulpate)
deparse(t)
fs(x,deparse(t))
x
names(x)
x$deparse(t)
x[[deparse(t)]]
x$sulfate
x[sulfate]
x[[sulfate]]
x[["sulfate"]]
x[[deparse(t)]]
x[[deparse(substitute(t)]]
x[[deparse(substitute(t))]]
t
deparse(substitute(t))
deparse(t)
t
x[[t]]
x [,colnames(x) %in% t]
x [,colnames(x) %in% deparse(t)]
colnames(x)
x [,colnames(x) %in% $t]
x [,colnames(x) %in% t]
?seq_along
x[cbind(t)]
x["t"]
x[,"t"]
x[,x$sulfate]
x$sulfate
bad <- is.na(x)
x[!bad]
x[t]
x[[t]]
x
x[[sulphate]]
x[[sulpate]]
names(x)
x[[sulfate]]
x[sulfate]
x[[sulfate]]
str(x)
dim(x)
dim_names(x)
dimnames.data.frame(x)
x$Date
x$sulfate
rownames(x)
colnames(x)
t
x[t]
x[[t]]
x[["sulfate"]]
t <- "sulfate"
x[[t]]
mean(x[[t]])
?mean
mean(x[[t]],na.rm=TRUE)
pollutantmean <- function (directory, pollutant, id=1:332) {
## 'directory' is a character vector of length 1 indicating the location of the CSV files.
## 'pollutant' is a character vector of length 1 indicating the name of the pollutant for which
## we will calculate the mean; either 'sulphate' or 'nitrate'
## 'id' is a integer vector indicating the monitor ID numbers to be used
## Return the mean of the pollutant across all monitors list in the 'id' vector
## (ignoring NA values)
## Note : Do not round the result
## Merge all files data into one file
fn_1 <- read.csv(paste('./',directory,'/',sprintf("%03s", 1),'.csv', sep=""))
fn_2 <- read.csv(paste('./',directory,'/',sprintf("%03s", 2),'.csv', sep=""))
f_tmp_data <- rbind.data.frame(fn_1,fn_2)
for (i in 3:332) {
t_f <- read.csv(paste('./',directory,'/',sprintf("%03s", i),'.csv', sep=""))
f_tmp_data <- rbind.data.frame(f_tmp_data,t_f)
}
## Subset of the given id
ss_d <- subset.data.frame(f_tmp_data,f_tmp_data$ID %in% id)
mn_val <- mean(ss_d[[pollutant]],na.rm=TRUE)
mn_val
}
pollutantmean("specdata","sulfate",3)
pollutantmean("specdata", "nitrate", 23)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "sulfate", 1:10)
x
ncol(x)
nrows(x)
nrow(x)
nrow(is.na(x))
nrow(is.na(x$sulfate))
nrow(is.na("x$sulfate"))
nrow(x$sulfate)
nrow(x[["sulfate"]])
nrow(x[["sulfate"]],na.rm=TRUE)
nrow(x)
nrow(na.omit(x))
source("Complete.R")
complete("specdata", 1)
complete("specdata", 1)
source("Complete.R")
complete("specdata", 1)
source("Complete.R")
complete("specdata", 1)
complete <- function (directory, id=1:332) {
## 'directory' is a character vector of length 1 indicating the location of the CSV files.
## 'id' is a integer vector indicating the monitor ID numbers to be used
## Return a data form for number of completely observed cases in each data file
id
for (i in id) {
t_f <- read.csv(paste('./',directory,'/',sprintf("%03s", i),'.csv', sep=""))
n_obs <- nrow(na.omit(t_f))
n_obs
}
}
complete("specdata", 1)
complete("specdata", 1:1)
fn_2 <- read.csv(paste('./specdata/',sprintf("%03s", 2),'.csv', sep=""))
n_obs <- nrow(na.omit(fn_2)
)
n_obs
sourcec("Complete.R")
source("Complete.R")
source("Complete.R")
complete("specdata",3)
complete("specdata",3:4)
source("Complete.R")
complete("specdata",3:4)
complete("specdata",3:4)
complete <- function (directory, id=1:332) {
## 'directory' is a character vector of length 1 indicating the location of the CSV files.
## 'id' is a integer vector indicating the monitor ID numbers to be used
## Return a data form for number of completely observed cases in each data file
id
for (i in 1:3) {
t_f <- read.csv(paste('./',directory,'/',sprintf("%03s", i),'.csv', sep=""))
nrow(na.omit(t_f))
}
}
complete(specdata,2)
complete("specdata",2)
}
complete("specdata",2)
for (i in 1:3) {
t_f <- read.csv(paste('./specdata/',sprintf("%03s", i),'.csv', sep=""))
nrow(na.omit(t_f))
}
for (i in 1:1) {
t_f <- read.csv(paste('./specdata/',sprintf("%03s", i),'.csv', sep=""))
nrow(na.omit(t_f))
}
for (i in 1:1) {
t_f <- read.csv(paste('./specdata/',sprintf("%03s", i),'.csv', sep=""))
##nrow(na.omit(t_f))
}
for (i in 1:1) {
t_f <- read.csv(paste('./specdata/',sprintf("%03s", i),'.csv', sep=""))
t_f
}
t_f
nrow(na.omit(t_f))
source("Complete.R")
complete("specdata",3)
source("Complete.R")
complete("specdata",3)
r_vector <- vector()
t_f <- read.csv(paste('./specdata/',sprintf("%03s", i),'.csv', sep=""))
r_vector <- c(r_vector,complete.cases(t_f))
}
r_vector <- c(r_vector,complete.cases(t_f))
t_f <- read.csv(paste('./specdata/',sprintf("%03s", i),'.csv', sep=""))
r_vector <- c(r_vector,complete.cases(t_f))
r_vector
r_vector <- c(r_vector,sum(complete.cases(t_f))
)
r_vector
source("Complete.R")
complete("specdata",3)
complete("specdata",3:4)
source("Complete.R")
complete("specdata",3:4)
source("Complete.R")
complete("specdata",3:4)
source("Complete.R")
complete("specdata",3:4)
source("Complete.R")
complete("specdata",3:4)
source("Complete.R")
complete("specdata",3:4)
complete("specdata",1)
complete("specdata", c(2, 4, 8, 10, 12))
source("Complete.R")
complete("specdata", c(2, 4, 8, 10, 12))
source("Complete.R")
complete("specdata",1)
complete("specdata", c(2, 4, 8, 10, 12))
source("Complete.R")
complete("specdata", c(2, 4, 8, 10, 12))
source("Complete.R")
complete("specdata", c(2, 4, 8, 10, 12,44,66,77))
str(x)
f_tmp_data <- data.frame(Date=as.Date(character()),
sulfate=integer(),
nitrate=integer(),
ID=interger()
)
tmp_data <- data.frame(Date=as.Date(character()),
sulfate=integer(),
nitrate=integer(),
ID=integer()
)
str(tmp_data)
str(x)
tmp_data <- data.frame(Date=factor()),
sulfate=double(),
nitrate=double(),
ID=integer()
)
tmp_data <- data.frame(Date=factor(),
sulfate=double(),
nitrate=double(),
ID=integer()
)
str(tmp_data)
source("pollutantmean_2.R")
pollutantmean("specdata","sulfate",4)
pollutantmean("specdata","sulfate",4:8)
pollutantmean("specdata","sulfate",303:331)
x
cor(x)
cor(x$sulfate)
cor(x$sulfate, x$nitrate)
cor(x$sulfate, x$nitrate, na.rm=TRUE)
x
complete.cases(x)
sum(complete.cases(x))
cor(1:10, 1:10)
cor(1:10, 2:10)
cor(1:10, 2:10)
cor(1:10, 1:10)
?cor
fn_1 <- read.csv(paste('./specdata/',sprintf("%03s", 1),'.csv', sep=""))
fn_2 <- read.csv(paste('./specdata/',sprintf("%03s", 2),'.csv', sep=""))
cor(fn_1,fn_2)
ss_sulfate <- subset.data.frame(fn_1,f_tmp_data$sulfate)
ss_sulfate <- subset.data.frame(fn_1,fn_1$sulfate)
ss_sulfate <- subset(fn_1,fn_1$sulfate)
fn_1[["sulfate"]]
cor(fn_1[["sulfate"]],fn_2[["nitrate"]])
dim(fn_1)
dim(fn_2)
cor(fn_1[["sulfate"]],fn_1[["nitrate"]])
cor(fn_1[["sulfate"]],fn_1[["nitrate"]],use="everything")
cor(fn_1[["sulfate"]],fn_1[["nitrate"]],use="everything",method="pearson")
fn_11 <- fn_1$sulfate
fn_12 <- fn_1$nitrate
cor(fn_11,fn_12,use="everything",method="pearson")
bad_1 <- fn_11[1, na.rm=TRUE]
bad_1 <- fn_11[fn_11 ! NA]
bad_1 <- fn_11[fn_11 != NA]
str(bad_1)
fn_11 <- fn_11[!is.na(fn_11)]
fn_11
fn_12 <- fn_12[!is.na(fn_12)]
cor(fn_11,fn_12,use="everything",method="pearson")
ncol(fn_12)
nrow(fn_12)
nrow(fn_11)
fn_11
fn_12
fn_1 <- read.csv(paste('./specdata/',sprintf("%03s", 1),'.csv', sep=""))
x <- complete.cases(fn_1)
x
str(x)
cor(fn_1$sulfate,fn_1$nitrate)
cor(fn_1$sulfate,fn_1$nitrate)
head(cr)
head(cor(fn_1$sulfate,fn_1$nitrate))
summary(cor(fn_1$sulfate,fn_1$nitrate))
sum(complete.cases(fn_1))
cor(fn_1)
cor(fn_11)
cor(fn_1)
str(fn_1)
cor(fn_1)
cor(fn_1,use="complete.obs", method="pearson")
dim(fn_1)
df <- structure(list(V1 = c(56, 123, 546, 26, 62, 6, NA, NA, NA, 15
), V2 = c(21, 231, 5, 5, 32, NA, 1, 231, 5, 200), V3 = c(NA,
NA, 24, 51, 53, 231, NA, 153, 6, 700), V4 = c(2, 10, NA, 20,
56, 1, 1, 53, 40, 5000)), .Names = c("V1", "V2", "V3", "V4"), row.names = c(NA,
10L), class = "data.frame")
dim(df)
str(df)
cor(df, use="complete.obs", method="pearson")
fn_1 <- read.csv(paste('./specdata/',sprintf("%03s", 1),'.csv', sep=""))
dim(fn_1)
str(fn_1)
cor(fn_1)
cor(fn_1,  use="complete.obs", method="pearson")
cor(fn_1,  use="pairwise.complete.obs", method="pearson")
fn_1$Date <- NULL
cor(fn_1,  use="pairwise.complete.obs", method="pearson")
cor(fn_1,  use="pairwise.complete.obs")
fn_1$ID <- NULL
cor(fn_1,  use="pairwise.complete.obs")
head(cor(fn_1,  use="pairwise.complete.obs"))
summary(cor(fn_1,  use="pairwise.complete.obs"))
cor(fn_1)
cr <- cor(fn_1)
head(cr)
fn_1
summary(cr)
source("corr.R")
corr("specpath",1)
corr("specpath",150)
cr <- corr("specpath",150)
head(cr)
summary(cr)
head(cor(fn_1,  use="pairwise.complete.obs"))
sapply(list.files("specpath"))
cr <- corr("specdata",150)
head(cr)
summary(cr)
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "sulfate", 34)
pollutantmean("specdata", "nitrate")
cc <- complete("specdata", c(6, 10, 20, 34, 100, 200, 310))
print(cc$nobs)
cc <- complete("specdata", 54)
print(cc$nobs)
set.seed(42)
cc <- complete("specdata", 332:1)
use <- sample(332, 10)
print(cc[use, "nobs"])
cr <- corr("specdata")
cr <- sort(cr)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- corr("specdata", 129)
cr <- sort(cr)
n <- length(cr)
set.seed(197)
out <- c(n, round(cr[sample(n, 5)], 4))
print(out)
cr <- corr("specdata", 2000)
n <- length(cr)
cr <- corr("specdata", 1000)
cr <- sort(cr)
print(c(n, round(cr, 4)))
?set.seed
?runif
runif(20)
dunif(3)
dunif(20)
max(matrix(1:4, 2,2))
invisible(x)
?invisible
lm(5-2)
lm(4)
?lm
library(datasets)
data(iris)
?iris
mean(iris)
iris
x <- subset.data.frame(iris, iris$Species %in% 'virginica')
x
mean(x[[Sepal.Length]], na.rm=TRUE)
mean(x[[Sepal.Length]], na.rm=TRUE)
x[[Sepal.Length]]
x$Sepal.Length
mean(x$Sepal.Length, na.rm=TRUE)
apply(iris[,1:4])
apply(iris[,1:4],mean)
apply(iris[,1:4],mean())
apply(iris[,1:4],2,mean
)
apply(iris[,1:4],1,mean)
colMeans(iris)
?apply
library(datasets)
data(mtcars)
?mtcars
sapply(split(mtcars$mpg, mtcars$cyl), mean)
mtcars
sapply(split(mtcars$mpg, mtcars$cyl), mean)
tapply(mtcars$mpg, mtcars$cyl, mean)
tapply(mtcars$cyl, mtcars$mpg, mean)
apply(mtcars, 2, mean)
mean(mtcars$mpg, mtcars$cyl)
with(mtcars, tapply(mpg, cyl, mean))
debug(ls)
ls
ls()
with(mtcars, tapply(mpg, cyl, mean))
x <- subset.data.frame(mta, iris$Species %in% 'virginica')
q
q
quit
exit
dir
dir()
